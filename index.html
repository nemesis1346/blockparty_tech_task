<!DOCTYPE html>
<html>
<head>
    <title>API Docs</title>
    <link href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.9.0/swagger-ui.css" rel="stylesheet">
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script>
    window.onload = () => {
        // Load your OpenAPI spec
        fetch('openapi.json')
            .then(response => response.json())
            .then(spec => {
                // Fix FastAPI-specific issues
                spec.servers = [{ url: '/', description: 'Local' }];
                
                window.ui = SwaggerUIBundle({
                    spec: spec,  // Use the modified spec directly
                    dom_id: '#swagger-ui',
                    presets: [
                        SwaggerUIBundle.presets.apis,
                    ],
                    layout: "BaseLayout"
                });
            });
    };
    </script>
</body>
</html>